<style></style>
<div class="itables">
<table id="table_id"><thead><tr><th>A</th></tr></thead></table>
<script>
    // We use a namespace per table (= the next curly bracket)
    // to avoid conflicts between the various tables' data & dt_args
    {
        // Define the table data
        const data = [];

        // Display the table
        function init_and_load(retry_in) {
            try {
                window.initializeDataTable().then(() => {
                    // Define the dt_args
                    let dt_args = {};
                    dt_args["data"] = data;

                    // [pre-dt-code]
                    $('#table_id').DataTable(dt_args);
                });
            }
            catch (err) {
                if (!err.message.includes('initializeDataTable')) {
                    throw err;
                }
                if (retry_in<20000) {
                    console.log(`Cannot display the table, retrying in ${retry_in/1000.0} seconds: ${err}`)
                    setTimeout(() => init_and_load(retry_in * 2), retry_in);
                }
                else {
                    console.log(`Cannot display the table, giving up: ${err}`);
                }
            }
        }

        $(document).ready(() => init_and_load(100));
    }
</script>
</div>
